-   What is DNS?
    - DNS (Domain Name System) = distributed, hierarchical database mapping domain names → IP addresses.
    - Example:  `google.com → 142.250.183.206`

-   DNS Namespace (Hierarchy)
    DNS names form a tree structure:
        .
        ├── com
        │   ├── microsoft
        │   │   ├── example
        │   │   │   └── host-a

    - Each level = label, separated by dots.  
    - Example full domain:  `host-a.example.microsoft.com`

-   FQDN (Fully Qualified Domain Name)
    - FQDN = complete, absolute domain name ending at root "."
    - Example:  `mydomain.microsoft.com.` *(note the final dot)*  
    - Tells resolver exactly where the host sits in hierarchy.

-   DNS Name Types (5 Levels)
    | Type               | Meaning                          | Example                          |
    |--------------------|----------------------------------|----------------------------------|
    | Root domain        | Top of DNS tree, `"."`           | `.` or `microsoft.com.`          |
    | TLD (Top-level)    | Category or country              | `.com`, `.org`, `.edu`, `.in`    |
    | Second-level domain| Registered name under TLD        | `microsoft.com.`                 |
    | Subdomain          | Optional names under second-level| `example.microsoft.com.`         |
    | Host/Resource name | Actual machine/service           | `host-a.example.microsoft.com.`  |

-   Common DNS TLDs
    | TLD   | Meaning                        |
    |-------|--------------------------------|
    | .com  | Commercial organizations       |
    | .edu  | Educational institutions       |
    | .org  | Non-profits                    |
    | .net  | Networking organizations       |
    | .gov  | Government (non-military)      |
    | .mil  | Military                       |
    | .arpa | Reverse DNS                    |
    | ccTLD | Country codes (.us, .in, .au)  |

-   DNS Resource Records (RR)
    A DNS zone = multiple resource records.

    Each RR has:
    - Name – owner name  
    - Class – always `IN` (Internet)  
    - TTL – cache duration  
    - Type – record type (A, CNAME, MX, NS, SOA)  
    - Data – value (depends on type)

-   Querying the DNS Database

    Recursive Query
    - Client (resolver) → DNS server.  
    - Server must return final answer (success or failure).  
    - If local data/cache insufficient → escalates to root servers.  
    - Common for DNS clients and forwarders.

    Iterative Query
    - Server responds with best local info (answer or referral).  
    - If not authoritative → returns referral to another server.  
    - DNS server may query multiple external servers to resolve.  
    - Used when server is not configured with a forwarder.

-   Example Query Sequence (www.whitehouse.gov)
    1. Recursive query from client → local DNS server.  
    2. Local server issues iterative query.  
    3. Referral to `.gov` name server (NS records).  
    4. Iterative query to `.gov` → referral to `whitehouse.gov` NS.  
    5. Iterative query to `whitehouse.gov` → returns IP.  
    6. Local DNS server responds to client with final answer.

-   What is TTL?
    - TTL = Time-to-Live value in a DNS resource record.
    - Defines how long other DNS servers or resolvers should cache the record before expiring/discarding it.
    - Prevents stale data from persisting indefinitely.
    Example:
        - Default TTL from SOA record = 1 hour (common setting).
        - google.com → 142.250.183.206 cached for 3600 seconds.

-   Where TTL is Set
    - Per record: Each RR can specify its own TTL.
    - Per zone: Minimum TTL defined in SOA record.
    - Client resolver side: Maximum TTL allowed for caching.

-   How TTL Works
    - Resolver queries DNS → receives response with TTL.
    - Resolver caches response until TTL expires.
    - If queried again before expiry → answer comes from cache.
    - When TTL expires → resolver discards entry, must re-query authoritative server.
    - TTL value is passed along with cached responses → ensures entries truly expire (not perpetually refreshed).

-   Tradeoffs in TTL Settings
    Short TTL
    - ✅ Reduces stale data risk.
    - ❌ Increases DNS server load & network traffic (frequent re-queries).
    Long TTL
    - ✅ Reduces DNS traffic (cache answers reused longer).
    - ❌ Higher risk of outdated data (false answers if IP changes).


